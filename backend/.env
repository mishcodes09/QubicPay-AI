# ═══════════════════════════════════════════════════════════════════
# Qubic Smart Escrow - Environment Configuration
# ═══════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────
# QUBIC NETWORK CONFIGURATION
# ─────────────────────────────────────────────────────────────────────

# RPC Endpoint - Choose one:
# Testnet (for development): https://testnet-rpc.qubic.org/
# Mainnet (for production):  https://rpc.qubic.org/
QUBIC_RPC_ENDPOINT=https://testnet-rpc.qubic.org/

# Network ID (1 for mainnet, 1 for testnet)
NETWORK_ID=1

# Smart Contract Address (60 uppercase characters)
# TODO: Replace with your deployed escrow contract address
# Example format: QUBICCONTRACTADDRESSABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGH
CONTRACT_ID=QUBICCONTRACTESCROWDEMO12345ABCDEFGHIJKLMNOPQRSTUVWXYZ

# ─────────────────────────────────────────────────────────────────────
# ORACLE IDENTITY (CRITICAL - KEEP SECURE!)
# ─────────────────────────────────────────────────────────────────────

# Oracle Private Key (Seed) - 55 lowercase characters
# This is your Qubic seed phrase used to sign transactions
# NEVER commit this to version control!
# Generate using Qubic wallet or: node scripts/generate-wallets.js
ORACLE_PRIVATE_KEY=abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvw

# Oracle Public Key - 60 uppercase characters
# This is your Qubic address derived from the private key
# Example format: QUBICABC...XYZ (60 chars total)
ORACLE_PUBLIC_KEY=QUBICABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ

# ─────────────────────────────────────────────────────────────────────
# AI VERIFICATION SERVICE
# ─────────────────────────────────────────────────────────────────────

# AI Service URL (Python Flask service)
AI_SERVICE_URL=http://localhost:5000

# AI Service Timeout (milliseconds)
AI_SERVICE_TIMEOUT=30000

# AI Service Host (for Python service)
API_HOST=0.0.0.0
API_PORT=5000

# Debug mode for AI service
DEBUG=False

# ─────────────────────────────────────────────────────────────────────
# ORACLE AGENT CONFIGURATION
# ─────────────────────────────────────────────────────────────────────

# How often to check for new verification requests (milliseconds)
POLLING_INTERVAL_MS=5000

# Maximum retry attempts for failed operations
MAX_RETRIES=3

# Delay between retries (milliseconds)
RETRY_DELAY_MS=2000

# Number of requests to process in a batch
BATCH_SIZE=10

# ─────────────────────────────────────────────────────────────────────
# ORACLE HTTP SERVER
# ─────────────────────────────────────────────────────────────────────

# Port for Oracle API server
PORT=8080

# Host to bind to (0.0.0.0 allows external connections)
HOST=0.0.0.0

# ─────────────────────────────────────────────────────────────────────
# LOGGING CONFIGURATION
# ─────────────────────────────────────────────────────────────────────

# Log level: debug | info | warn | error
LOG_LEVEL=info

# Log format: json | text
LOG_FORMAT=json

# ─────────────────────────────────────────────────────────────────────
# SOCIAL MEDIA API KEYS (Optional - for production)
# ─────────────────────────────────────────────────────────────────────

# Instagram Graph API
INSTAGRAM_API_ENABLED=False
INSTAGRAM_ACCESS_TOKEN=
INSTAGRAM_APP_ID=
INSTAGRAM_APP_SECRET=

# Twitter/X API v2
TWITTER_API_ENABLED=False
TWITTER_API_KEY=
TWITTER_API_SECRET=
TWITTER_BEARER_TOKEN=
TWITTER_ACCESS_TOKEN=
TWITTER_ACCESS_TOKEN_SECRET=

# TikTok API
TIKTOK_API_ENABLED=False
TIKTOK_CLIENT_KEY=
TIKTOK_CLIENT_SECRET=

# ─────────────────────────────────────────────────────────────────────
# ADVANCED SETTINGS (Optional)
# ─────────────────────────────────────────────────────────────────────

# Transaction confirmation timeout (milliseconds)
TX_CONFIRMATION_TIMEOUT=60000

# Tick offset for transaction scheduling (higher = more time for broadcast)
TX_TICK_OFFSET=30

# Enable detailed transaction logging
TX_VERBOSE_LOGGING=true

# Verification score threshold (0-100)
VERIFICATION_SCORE_THRESHOLD=95

# Enable automatic escrow monitoring
AUTO_MONITOR_ESCROWS=true

# Maximum concurrent verifications
MAX_CONCURRENT_VERIFICATIONS=5

# ─────────────────────────────────────────────────────────────────────
# DEVELOPMENT / TESTING
# ─────────────────────────────────────────────────────────────────────

# Enable test mode (uses mock data)
TEST_MODE=false

# Test wallet addresses (for development)
TEST_BRAND_ID=QUBICTESTBRANDABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNO
TEST_INFLUENCER_ID=QUBICTESTINFLUENCERABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGH

# ═══════════════════════════════════════════════════════════════════
# SETUP INSTRUCTIONS
# ═══════════════════════════════════════════════════════════════════
#
# 1. GENERATE ORACLE KEYS:
#    - Use Qubic wallet to create a new identity
#    - Or run: node scripts/generate-wallets.js
#    - Copy the 55-char seed to ORACLE_PRIVATE_KEY
#    - Copy the 60-char address to ORACLE_PUBLIC_KEY
#
# 2. DEPLOY SMART CONTRACT:
#    - Deploy your escrow contract to Qubic testnet
#    - Copy the 60-char contract address to CONTRACT_ID
#
# 3. START AI SERVICE:
#    cd backend/ai-verification
#    python -m venv venv
#    source venv/bin/activate  # or .\venv\Scripts\Activate.ps1 on Windows
#    pip install -r requirements.txt
#    python src/main.py
#
# 4. START ORACLE AGENT:
#    cd backend/oracle-agent
#    npm install
#    npm run build
#    npm start
#
# 5. TEST THE SYSTEM:
#    curl http://localhost:8080/health
#    curl -X POST http://localhost:8080/verify \
#      -H "Content-Type: application/json" \
#      -d '{"postUrl":"https://instagram.com/p/test","scenario":"legitimate"}'
#
# ═══════════════════════════════════════════════════════════════════
# SECURITY NOTES
# ═══════════════════════════════════════════════════════════════════
#
# ⚠️  NEVER commit this file with real keys to version control!
# ⚠️  Use .env.example for templates
# ⚠️  Keep ORACLE_PRIVATE_KEY secure - it controls funds
# ⚠️  Rotate keys regularly in production
# ⚠️  Use separate keys for testnet and mainnet
# ⚠️  Backup your private key securely (offline storage)
#
# ═══════════════════════════════════════════════════════════════════