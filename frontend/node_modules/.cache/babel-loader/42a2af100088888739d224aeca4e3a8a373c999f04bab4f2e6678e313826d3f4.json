{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\PROG\\\\New folder\\\\Wil\\\\AI-Exectuor\\\\frontend\\\\src\\\\components\\\\ContractInteraction.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/**\r\n * Contract Interaction Component\r\n * Deploy contracts, deposit funds, release payments\r\n */\nimport React, { useState } from 'react';\nimport QubicService from '../services/qubicService';\nimport { useContractState } from '../hooks/useContractState';\nimport { formatQubic } from '../utils/helpers';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ContractInteraction = ({\n  wallet,\n  role\n}) => {\n  _s();\n  const [contractId, setContractId] = useState(null);\n  const [isDeploying, setIsDeploying] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [txResult, setTxResult] = useState(null);\n  const {\n    contractState,\n    isLoading,\n    error,\n    refetch\n  } = useContractState(contractId);\n  const handleDeployContract = async () => {\n    setIsDeploying(true);\n    setTxResult(null);\n    try {\n      const oracleAddress = 'QUBIC' + 'A'.repeat(55); // Mock oracle address\n      const result = await QubicService.deployContract(wallet.address, oracleAddress);\n      setContractId(result.contractId);\n      setTxResult({\n        type: 'deploy',\n        success: true,\n        data: result\n      });\n    } catch (error) {\n      setTxResult({\n        type: 'deploy',\n        success: false,\n        error: error instanceof Error ? error.message : 'Deployment failed'\n      });\n    } finally {\n      setIsDeploying(false);\n    }\n  };\n  const handleDepositFunds = async (amount, influencerId) => {\n    if (!contractId) return;\n    setIsProcessing(true);\n    setTxResult(null);\n    try {\n      const result = await QubicService.depositFunds(contractId, amount, influencerId);\n      setTxResult({\n        type: 'deposit',\n        success: true,\n        data: result\n      });\n      await refetch();\n    } catch (error) {\n      setTxResult({\n        type: 'deposit',\n        success: false,\n        error: error instanceof Error ? error.message : 'Deposit failed'\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleReleasePayment = async () => {\n    if (!contractId) return;\n    setIsProcessing(true);\n    setTxResult(null);\n    try {\n      const result = await QubicService.releasePayment(contractId);\n      setTxResult({\n        type: 'release',\n        success: true,\n        data: result\n      });\n      await refetch();\n    } catch (error) {\n      setTxResult({\n        type: 'release',\n        success: false,\n        error: error instanceof Error ? error.message : 'Release failed'\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleRefund = async () => {\n    if (!contractId) return;\n    setIsProcessing(true);\n    setTxResult(null);\n    try {\n      const result = await QubicService.refundFunds(contractId);\n      setTxResult({\n        type: 'refund',\n        success: true,\n        data: result\n      });\n      await refetch();\n    } catch (error) {\n      setTxResult({\n        type: 'refund',\n        success: false,\n        error: error instanceof Error ? error.message : 'Refund failed'\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl space-y-6\",\n    children: [!contractId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-8 h-8 text-blue-400\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-white mb-2\",\n        children: \"Deploy Smart Contract\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-6\",\n        children: \"Deploy your escrow smart contract to the Qubic blockchain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeployContract,\n        disabled: isDeploying,\n        className: \"btn-primary\",\n        children: isDeploying ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Deploying...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this) : 'Deploy Contract'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), contractId && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-white\",\n            children: \"Smart Contract\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-success\",\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(InfoRow, {\n            label: \"Contract ID\",\n            value: contractId,\n            copyable: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InfoRow, {\n            label: \"Network\",\n            value: \"Qubic Testnet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InfoRow, {\n            label: \"Transaction Fee\",\n            value: \"0 QUBIC\",\n            highlight: \"Zero fees!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), contractState && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(InfoRow, {\n              label: \"Escrow Balance\",\n              value: formatQubic(contractState.escrowBalance)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(InfoRow, {\n              label: \"Verification Score\",\n              value: `${contractState.verificationScore}/100`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(InfoRow, {\n              label: \"Status\",\n              value: contractState.isPaid ? 'Paid' : contractState.isRefunded ? 'Refunded' : contractState.isVerified ? 'Verified - Ready' : 'Awaiting Verification'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), role === 'brand' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-white mb-6\",\n          children: \"Brand Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDepositFunds(1000, 'QUBIC' + 'B'.repeat(55)),\n            disabled: isProcessing,\n            className: \"btn-primary w-full\",\n            children: \"Deposit 1000 QUBIC to Escrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleReleasePayment,\n            disabled: isProcessing || !(contractState !== null && contractState !== void 0 && contractState.isVerified),\n            className: \"btn-success w-full\",\n            children: \"Release Payment to Influencer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRefund,\n            disabled: isProcessing,\n            className: \"btn-danger w-full\",\n            children: \"Request Refund (Fraud Detected)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this), txResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card p-6 ${txResult.success ? 'bg-green-900/10 border-green-500/30' : 'bg-red-900/10 border-red-500/30'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-3\",\n          children: [txResult.success ? /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6 text-green-400 flex-shrink-0\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6 text-red-400 flex-shrink-0\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: `font-semibold mb-1 ${txResult.success ? 'text-green-400' : 'text-red-400'}`,\n              children: txResult.success ? 'Transaction Successful' : 'Transaction Failed'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 19\n            }, this), txResult.success && txResult.data.txHash && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400 font-mono\",\n              children: [\"TX: \", txResult.data.txHash.slice(0, 20), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 21\n            }, this), !txResult.success && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-300\",\n              children: txResult.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-6 bg-blue-900/10 border-blue-500/30\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold text-blue-400 mb-3 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5 mr-2\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), \"Smart Contract Features\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2 text-sm text-gray-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2713 Automatic payment release when verification score \\u2265 95\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\u2713 Automatic refund to brand if fraud detected (score \", '<', \" 95)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2713 AI oracle updates verification scores on-chain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2713 Zero transaction fees on Qubic network\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2713 Immutable audit trail for all transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n\n// Info Row Component\n_s(ContractInteraction, \"BE1z5FhAcU9GVrjEUBVM+RSVbNs=\", false, function () {\n  return [useContractState];\n});\n_c = ContractInteraction;\nconst InfoRow = ({\n  label,\n  value,\n  highlight,\n  copyable\n}) => {\n  _s2();\n  const [copied, setCopied] = useState(false);\n  const handleCopy = async () => {\n    if (copyable) {\n      await navigator.clipboard.writeText(value);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between py-3 border-b border-gray-700 last:border-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm text-gray-400\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-white font-mono text-sm\",\n        children: value.length > 40 ? `${value.slice(0, 20)}...${value.slice(-10)}` : value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), highlight && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-green-400 font-semibold\",\n        children: highlight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), copyable && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCopy,\n        className: \"text-gray-400 hover:text-white transition-colors\",\n        children: copied ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 text-green-400\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s2(InfoRow, \"NE86rL3vg4NVcTTWDavsT0hUBJs=\");\n_c2 = InfoRow;\nexport default ContractInteraction;\nvar _c, _c2;\n$RefreshReg$(_c, \"ContractInteraction\");\n$RefreshReg$(_c2, \"InfoRow\");","map":{"version":3,"names":["React","useState","QubicService","useContractState","formatQubic","jsxDEV","_jsxDEV","Fragment","_Fragment","ContractInteraction","wallet","role","_s","contractId","setContractId","isDeploying","setIsDeploying","isProcessing","setIsProcessing","txResult","setTxResult","contractState","isLoading","error","refetch","handleDeployContract","oracleAddress","repeat","result","deployContract","address","type","success","data","Error","message","handleDepositFunds","amount","influencerId","depositFunds","handleReleasePayment","releasePayment","handleRefund","refundFunds","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","InfoRow","label","value","copyable","highlight","escrowBalance","verificationScore","isPaid","isRefunded","isVerified","fillRule","clipRule","txHash","slice","_c","_s2","copied","setCopied","handleCopy","navigator","clipboard","writeText","setTimeout","length","_c2","$RefreshReg$"],"sources":["C:/Users/USER/Documents/GitHub/PROG/New folder/Wil/AI-Exectuor/frontend/src/components/ContractInteraction.tsx"],"sourcesContent":["/**\r\n * Contract Interaction Component\r\n * Deploy contracts, deposit funds, release payments\r\n */\r\nimport React, { useState } from 'react';\r\nimport QubicService, { QubicWallet } from '../services/qubicService';\r\nimport { useContractState } from '../hooks/useContractState';\r\nimport { formatQubic, formatAddress, formatTimestamp } from '../utils/helpers';\r\n\r\ninterface ContractInteractionProps {\r\n  wallet: QubicWallet;\r\n  role: 'brand' | 'influencer';\r\n}\r\n\r\nconst ContractInteraction: React.FC<ContractInteractionProps> = ({ wallet, role }) => {\r\n  const [contractId, setContractId] = useState<string | null>(null);\r\n  const [isDeploying, setIsDeploying] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [txResult, setTxResult] = useState<any>(null);\r\n\r\n  const { contractState, isLoading, error, refetch } = useContractState(contractId);\r\n\r\n  const handleDeployContract = async () => {\r\n    setIsDeploying(true);\r\n    setTxResult(null);\r\n\r\n    try {\r\n      const oracleAddress = 'QUBIC' + 'A'.repeat(55); // Mock oracle address\r\n      const result = await QubicService.deployContract(wallet.address, oracleAddress);\r\n      \r\n      setContractId(result.contractId);\r\n      setTxResult({\r\n        type: 'deploy',\r\n        success: true,\r\n        data: result\r\n      });\r\n    } catch (error) {\r\n      setTxResult({\r\n        type: 'deploy',\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Deployment failed'\r\n      });\r\n    } finally {\r\n      setIsDeploying(false);\r\n    }\r\n  };\r\n\r\n  const handleDepositFunds = async (amount: number, influencerId: string) => {\r\n    if (!contractId) return;\r\n\r\n    setIsProcessing(true);\r\n    setTxResult(null);\r\n\r\n    try {\r\n      const result = await QubicService.depositFunds(contractId, amount, influencerId);\r\n      \r\n      setTxResult({\r\n        type: 'deposit',\r\n        success: true,\r\n        data: result\r\n      });\r\n      \r\n      await refetch();\r\n    } catch (error) {\r\n      setTxResult({\r\n        type: 'deposit',\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Deposit failed'\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleReleasePayment = async () => {\r\n    if (!contractId) return;\r\n\r\n    setIsProcessing(true);\r\n    setTxResult(null);\r\n\r\n    try {\r\n      const result = await QubicService.releasePayment(contractId);\r\n      \r\n      setTxResult({\r\n        type: 'release',\r\n        success: true,\r\n        data: result\r\n      });\r\n      \r\n      await refetch();\r\n    } catch (error) {\r\n      setTxResult({\r\n        type: 'release',\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Release failed'\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleRefund = async () => {\r\n    if (!contractId) return;\r\n\r\n    setIsProcessing(true);\r\n    setTxResult(null);\r\n\r\n    try {\r\n      const result = await QubicService.refundFunds(contractId);\r\n      \r\n      setTxResult({\r\n        type: 'refund',\r\n        success: true,\r\n        data: result\r\n      });\r\n      \r\n      await refetch();\r\n    } catch (error) {\r\n      setTxResult({\r\n        type: 'refund',\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Refund failed'\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl space-y-6\">\r\n      {/* Contract Deployment */}\r\n      {!contractId && (\r\n        <div className=\"card p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg className=\"w-8 h-8 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Deploy Smart Contract</h2>\r\n          <p className=\"text-gray-400 mb-6\">\r\n            Deploy your escrow smart contract to the Qubic blockchain\r\n          </p>\r\n          <button\r\n            onClick={handleDeployContract}\r\n            disabled={isDeploying}\r\n            className=\"btn-primary\"\r\n          >\r\n            {isDeploying ? (\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className=\"spinner w-5 h-5\" />\r\n                <span>Deploying...</span>\r\n              </div>\r\n            ) : (\r\n              'Deploy Contract'\r\n            )}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Contract Info */}\r\n      {contractId && (\r\n        <>\r\n          <div className=\"card p-8\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-2xl font-bold text-white\">Smart Contract</h2>\r\n              <span className=\"badge badge-success\">Active</span>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <InfoRow\r\n                label=\"Contract ID\"\r\n                value={contractId}\r\n                copyable\r\n              />\r\n              <InfoRow\r\n                label=\"Network\"\r\n                value=\"Qubic Testnet\"\r\n              />\r\n              <InfoRow\r\n                label=\"Transaction Fee\"\r\n                value=\"0 QUBIC\"\r\n                highlight=\"Zero fees!\"\r\n              />\r\n              {contractState && (\r\n                <>\r\n                  <InfoRow\r\n                    label=\"Escrow Balance\"\r\n                    value={formatQubic(contractState.escrowBalance)}\r\n                  />\r\n                  <InfoRow\r\n                    label=\"Verification Score\"\r\n                    value={`${contractState.verificationScore}/100`}\r\n                  />\r\n                  <InfoRow\r\n                    label=\"Status\"\r\n                    value={\r\n                      contractState.isPaid ? 'Paid' :\r\n                      contractState.isRefunded ? 'Refunded' :\r\n                      contractState.isVerified ? 'Verified - Ready' :\r\n                      'Awaiting Verification'\r\n                    }\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          {role === 'brand' && (\r\n            <div className=\"card p-8\">\r\n              <h3 className=\"text-xl font-bold text-white mb-6\">Brand Actions</h3>\r\n              <div className=\"space-y-4\">\r\n                <button\r\n                  onClick={() => handleDepositFunds(1000, 'QUBIC' + 'B'.repeat(55))}\r\n                  disabled={isProcessing}\r\n                  className=\"btn-primary w-full\"\r\n                >\r\n                  Deposit 1000 QUBIC to Escrow\r\n                </button>\r\n                <button\r\n                  onClick={handleReleasePayment}\r\n                  disabled={isProcessing || !contractState?.isVerified}\r\n                  className=\"btn-success w-full\"\r\n                >\r\n                  Release Payment to Influencer\r\n                </button>\r\n                <button\r\n                  onClick={handleRefund}\r\n                  disabled={isProcessing}\r\n                  className=\"btn-danger w-full\"\r\n                >\r\n                  Request Refund (Fraud Detected)\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Transaction Result */}\r\n          {txResult && (\r\n            <div className={`card p-6 ${\r\n              txResult.success\r\n                ? 'bg-green-900/10 border-green-500/30'\r\n                : 'bg-red-900/10 border-red-500/30'\r\n            }`}>\r\n              <div className=\"flex items-start space-x-3\">\r\n                {txResult.success ? (\r\n                  <svg className=\"w-6 h-6 text-green-400 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                ) : (\r\n                  <svg className=\"w-6 h-6 text-red-400 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                )}\r\n                <div className=\"flex-1\">\r\n                  <h4 className={`font-semibold mb-1 ${\r\n                    txResult.success ? 'text-green-400' : 'text-red-400'\r\n                  }`}>\r\n                    {txResult.success ? 'Transaction Successful' : 'Transaction Failed'}\r\n                  </h4>\r\n                  {txResult.success && txResult.data.txHash && (\r\n                    <p className=\"text-sm text-gray-400 font-mono\">\r\n                      TX: {txResult.data.txHash.slice(0, 20)}...\r\n                    </p>\r\n                  )}\r\n                  {!txResult.success && (\r\n                    <p className=\"text-sm text-red-300\">{txResult.error}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Contract Info Panel */}\r\n      <div className=\"card p-6 bg-blue-900/10 border-blue-500/30\">\r\n        <h4 className=\"font-semibold text-blue-400 mb-3 flex items-center\">\r\n          <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n          Smart Contract Features\r\n        </h4>\r\n        <ul className=\"space-y-2 text-sm text-gray-400\">\r\n          <li>✓ Automatic payment release when verification score ≥ 95</li>\r\n          <li>✓ Automatic refund to brand if fraud detected (score {'<'} 95)</li>\r\n          <li>✓ AI oracle updates verification scores on-chain</li>\r\n          <li>✓ Zero transaction fees on Qubic network</li>\r\n          <li>✓ Immutable audit trail for all transactions</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Info Row Component\r\nconst InfoRow: React.FC<{\r\n  label: string;\r\n  value: string;\r\n  highlight?: string;\r\n  copyable?: boolean;\r\n}> = ({ label, value, highlight, copyable }) => {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const handleCopy = async () => {\r\n    if (copyable) {\r\n      await navigator.clipboard.writeText(value);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between py-3 border-b border-gray-700 last:border-0\">\r\n      <span className=\"text-sm text-gray-400\">{label}</span>\r\n      <div className=\"flex items-center space-x-2\">\r\n        <span className=\"text-white font-mono text-sm\">\r\n          {value.length > 40 ? `${value.slice(0, 20)}...${value.slice(-10)}` : value}\r\n        </span>\r\n        {highlight && (\r\n          <span className=\"text-xs text-green-400 font-semibold\">{highlight}</span>\r\n        )}\r\n        {copyable && (\r\n          <button\r\n            onClick={handleCopy}\r\n            className=\"text-gray-400 hover:text-white transition-colors\"\r\n          >\r\n            {copied ? (\r\n              <svg className=\"w-4 h-4 text-green-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            ) : (\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n              </svg>\r\n            )}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContractInteraction;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}